<div data-ng-controller="ApplicationEditController">
	<h1>Editing Application</h1>

	<form class="form-horizontal">
		<div class="form-group">
			<label for="inputName" class="col-sm-2 control-label">Name</label>

			<div class="col-sm-10">
				<input type="text" id="inputName" name="name" data-ng-model="application.name"/>
			</div>
			<div class="has-error" data-ng-if="errors.name">{{ errors.name.join(', ') }}</div>
		</div>
		<div class="form-group">
			<label for="inputBasicAuth" class="col-sm-2 control-label">Basic Auth</label>

			<div class="col-sm-10">
				<input type="text" id="inputBasicAuth" name="name" data-ng-model="application.basic_auth"/>
			</div>
			<div class="has-error" data-ng-if="errors.basic_auth">{{ errors.basic_auth.join(', ') }}</div>
		</div>
		<div class="form-group">
			<label for="inputDomains" class="col-sm-2 control-label">
				Domains
				<span data-ng-click="addToArray('domains')"><i class="glyphicon glyphicon-plus"></i></span>
			</label>

			<div class="col-sm-10">
				<div ng-repeat="domain in application.domains">
					<label>Domain {{$index+1}}:</label>
					<input ng-model="domain" type="text" ng-blur="editArray('domains', $index, domain)"/>
					<span data-ng-click="removeFromArray('domains', $index)"><i class="glyphicon glyphicon-minus"></i></span>
				</div>
			</div>
			<div class="has-error" data-ng-if="errors.domains">{{ errors.domains.join(', ') }}</div>
		</div>
		<div class="form-group">
			<label class="col-sm-2 control-label">
				Ports
				<span data-ng-click="addToArray('ports')"><i class="glyphicon glyphicon-plus"></i></span>
			</label>

			<div class="col-sm-10">
				<div ng-repeat="port in application.ports">
					<label id="port-{{ $index }}">Port {{$index+1}}:</label>
					<input ng-model="port" type="text" ng-blur="editArray('ports', $index, port)"/>
					<span data-ng-click="removeFromArray('ports', $index)"><i class="glyphicon glyphicon-minus"></i></span>
				</div>
			</div>
			<div class="has-error" data-ng-if="errors.ports">{{ errors.ports.join(', ') }}</div>
		</div>
		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-10">
				<button data-ng-click="saveApplication()" class="btn btn-default">Save</button>
			</div>
		</div>
	</form>

	<a data-ng-href="/protected/applications">Back</a>
</div>
